apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: kf-app--tensorboards--tensorboard-controller
  namespace: "argocd"
  labels:
    app.kubernetes.io/name: tensorboard-controller
    app.kubernetes.io/component: kubeflow-apps
    app.kubernetes.io/part-of: deploykf
spec:
  project: "default"
  source:
    repoURL: "https://github.com/deployKF/deployKF"
    targetRevision: "dev"
    path: "GENERATOR_OUTPUT/manifests/kubeflow-tools/tensorboards/tensorboard-controller"
  destination:
    server: "https://kubernetes.default.svc"
    namespace: kubeflow

  # TODO: is this `ignoreDifferences` needed and safe?
  ignoreDifferences:
    - group: apiextensions.k8s.io
      kind: CustomResourceDefinition
      name: tensorboards.tensorboard.kubeflow.org
      jsonPointers:
        - /spec/scope
