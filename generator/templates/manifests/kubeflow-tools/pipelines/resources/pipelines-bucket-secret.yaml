{{<- if not .Values.kubeflow_tools.pipelines.objectStore.auth.fromEnv >}}
{{<- if not (tmpl.Exec "kubeflow_pipelines.use_embedded_minio" .) >}}
{{<- if not .Values.kubeflow_tools.pipelines.objectStore.auth.existingSecret >}}
apiVersion: v1
kind: Secret
metadata:
  name: pipelines-bucket-secret
  namespace: kubeflow
data:
  ACCESS_KEY: {{< .Values.kubeflow_tools.pipelines.objectStore.auth.accessKey | base64.Encode | quote >}}
  SECRET_KEY: {{< .Values.kubeflow_tools.pipelines.objectStore.auth.secretKey | base64.Encode | quote >}}
{{<- end >}}
{{<- end >}}
{{<- end >}}