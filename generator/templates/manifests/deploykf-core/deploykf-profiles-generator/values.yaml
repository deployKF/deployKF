deployKF:
  clusterDomain: cluster.local

  kubeflow:
    useridHeader: kubeflow-userid

  gateway:
    namespace: {{< .Values.deploykf_core.deploykf_istio_gateway.namespace | quote >}}
    serviceAccount: {{< .Values.deploykf_core.deploykf_istio_gateway.serviceAccount.name | quote >}}


## configs for generated profiles
##
profileDefaults:

  ## a common prefix to add to all profile names
  ## - NOTE: the profile name is also used as the namespace name
  ##
  profileNamePrefix: ""

  ## the email to set as the OWNER of ALL profiles
  ##
  ownerEmail: admin@example.com


## user details
##
users:
  person-1:
    email: person-1@example.com
  person-2:
    email: person-2@example.com


## profiles to create
##
profiles:

  ## EXAMPLE: a profile called "team-1"
  ##
  team-1:
    ## the list of members and their access to this profile
    ## - `user`: the name of the user, from the `users` section
    ## - `role`: the RBAC role to bind to the user (default: "view")
    ##           "edit" -> `ClusterRole/kubeflow-edit` -> can view/create/delete resources
    ##           "view" -> `ClusterRole/kubeflow-view` -> can only view resources
    ## - `notebooks_access`: if the user can connect to notebooks in the profile (default: false)
    ##
    members:
      - user: person-1
        role: edit
        notebooks_access: true
      - user: person-2
        role: edit
        notebooks_access: true

    ## the list of plugins to apply to this profile
    ##
    ## ____ EXAMPLE _______________
    ##  plugins:
    ##    ## EKS IRSA plugin
    ##    ##  https://github.com/kubeflow/kubeflow/blob/v1.6.1/components/profile-controller/controllers/plugin_iam.go#L30
    ##    - kind: AwsIamForServiceAccount
    ##      spec:
    ##        awsIamRole: arn:aws:iam::000000000000:role/MY_ROLE_NAME
    ##    ## GKE WorkloadIdentity plugin
    ##    ##  https://github.com/kubeflow/kubeflow/blob/v1.6.1/components/profile-controller/controllers/plugin_workload_identity.go#L39
    ##    - kind: WorkloadIdentity
    ##      spec:
    ##        gcpServiceAccount: SA_NAME@PROJECT_ID.iam.gserviceaccount.com
    ##
    plugins: []

    ## the resource quota for this profile
    ## - spec for ResourceQuotaSpec:
    ##   https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.24/#resourcequotaspec-v1-core
    ##
    resourceQuotaSpec: {}

  ## EXAMPLE: a profile called "team-1-prod"
  ##
  team-1-prod:
    members:
      - user: person-1
        role: view
        notebooks_access: false
      - user: person-2
        # TODO: remove comment after test
        #role: view
        notebooks_access: false
